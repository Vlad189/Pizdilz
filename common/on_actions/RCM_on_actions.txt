on_actions = {
			
	on_startup = {
		effect = {
			every_country = {
				limit = {
					exists = yes
					NOT = {
						has_country_flag = I_have_supply_conditions
					}
				}
				add_dynamic_modifier = {
					modifier = RCM_supply_condition
				}
				set_variable = {
					This.supply_condition = 50
				}
				set_variable = {
					This.supply_condition_base = 50
				}
				set_variable = {
					This.supply_condition_weeky = 0
				}
				set_variable = {
					This.supply_condition_daily = 0
				}
				set_variable = {
					This.foreign_aid_ver_big = 0
				}
				set_variable = {
					This.foreign_aid_big = 0
				}
				set_variable = {
					This.foreign_aid_med = 0
				}
				set_variable = {
					This.foreign_aid_sml = 0
				}
				set_variable = {
					This.foreign_aid_ver_sml = 0
				}
				set_country_flag = I_have_supply_conditions
				supply_on_daily_effect = yes
			}
			
			#can't use history, cause build_ic_cost doesn't work there
			JAP = {
				if = {
					limit = {
						is_ai = yes
					}
					add_to_variable = {
						This.supply_condition_base = 20
					}
				}
				
			}
			
			GER = {
				if = {
				    limit = {
					    GER = { is_ai = yes }
					}
				    add_to_variable = {
					    var = This.supply_condition
					    value = 500 #MODDED
				     }
				    add_to_variable = {
					    var = This.supply_condition_base
					    value = 500 #MODDED
				    }
			    }
			}


			SOV = {
				if = {
				    limit = {
					    SOV = { is_ai = yes }
					}
				    add_to_variable = {
					    var = This.supply_condition
					    value = 50 #MODDED
				     }
				    add_to_variable = {
					    var = This.supply_condition_base
					    value = 50 #MODDED
				    }
			    }
			}
			
			JAP = {
				if = {
				    limit = {
					    JAP = { is_ai = yes }
					}
				    add_to_variable = {
					    var = This.supply_condition
					    value = 50 #MODDED
				     }
				    add_to_variable = {
					    var = This.supply_condition_base
					    value = 50 #MODDED
				    }
			    }
			}
			
			every_country = {
				limit = {
					has_dlc = "Waking the Tiger"
				}
				add_ideas = {
					CHI_hyper_inflation_1
				}
			}
			
			
			#starting supply
			FRA = {
				subtract_from_variable = {
					var = This.supply_condition
					value = 25
				}
				subtract_from_variable = {
					var = This.supply_condition_base
					value = 25
				}
			}
			SOV = {
				add_to_variable = {
					var = This.supply_condition
					value = 20
				}
				add_to_variable = {
					var = This.supply_condition_base
					value = 20
				}
			}
			USA = {
				subtract_from_variable = {
					var = This.supply_condition
					value = 25
				}
				subtract_from_variable = {
					var = This.supply_condition_base
					value = 25
				}
			}
			ITA = { #so they don't get rekt
				add_to_variable = {
					var = This.supply_condition
					value = 20
				}
				add_to_variable = {
					var = This.supply_condition_base
					value = 20
				}
			}
			SOV = {
				add_to_variable = {
					var = This.supply_condition
					value = 15
				}
				add_to_variable = {
					var = This.supply_condition_base
					value = 15
				}
			}
			
			GER = {
				add_to_variable = {
					var = This.supply_condition
					value = 15 #MODDED
				}
				add_to_variable = {
					var = This.supply_condition_base
					value = 15 #MODDED
				}
			}
			
			PRC = {
				add_to_variable = {
					This.supply_condition_base = 20
				}
				add_to_variable = {
					This.supply_condition = 20
				}
			}
			if = {
				limit = {
					any_country = {
						is_literally_china = yes
						NOT = {
							OR = {
								tag = CHI
								tag = MAN
								is_puppet_of = JAP
							}
						}
						is_ai = no
					}
					CHI = {
						is_ai = yes
					}
				}
				CHI = { #so they don't get rekt
					add_to_variable = {
						var = This.supply_condition
						value = 20
					}
					add_to_variable = {
						var = This.supply_condition_base
						value = 20
					}
				}
			}
		}
	}
	
	on_daily = {
		effect = {			
			
			supply_on_daily_effect = yes
			set_variable = {
				This.infantry_equipment_deficit = This.num_target_equipment_in_armies@infantry_equipment
			}
			subtract_from_variable = {
				This.infantry_equipment_deficit = This.num_equipment_in_armies@infantry_equipment
			}
			set_variable = {
				This.infantry_equipment_fill_ratio = This.num_equipment_in_armies@infantry_equipment
			}
			divide_variable = {
				This.infantry_equipment_fill_ratio = This.num_target_equipment_in_armies@infantry_equipment
			}
			set_variable = { This.cons_infra_ratio = this.RCM_army_supply_consumption }
			divide_variable = { This.cons_infra_ratio = this.total_infra }
		}
	}
}
    
