###########################
# NEWS EVENTS
###########################

add_namespace = TE_treaty_news_event

#### Main variables used for peace process communication
# VICTOR.var_TE_peace_offer_available@LOSER = 0/1 - unlocks country selection GUI 
# LOSER.var_TE_has_sent_offer@VICTOR = 0/1 - Conditional peace only - so that you cant sent the same offer twice. 
# VICTOR.var_TE_has_started_treaty@LOSER = 0/1 - Set to 1 when clicking the button in this GUI 
# VICTOR.var_TE_has_sent_treaty@LOSER = 0/1 - set to 1 when "DONE" with peace treaty, used to complete mission timer and kick off peace. 
# VICTOR.var_TE_number_peace_offers_accepted = x # Counter, can be used to show how many peace treaties the player needs to work with


### peace
news_event = {
	id = TE_treaty_news_event.1  
	title = TE_treaty_news_event.1.t
	desc = TE_treaty_news_event.1.d 
	picture = GFX_news_event_generic_sign_treaty2
	is_triggered_only = yes
	hidden = no 
	
	option = { 
		name = TE_treaty_news_event.1.a
		ai_chance = { 
			factor = 30
		}
		
	}
}
	
### peace
news_event = {
	id = TE_treaty_news_event.2  
	title = TE_treaty_news_event.2.t
	desc = {
		text = TE_treaty_news_event.2.d_4 
		trigger = {
			check_variable = { destroy_text = 4 }
		}
	}
	desc = {
		text = TE_treaty_news_event.2.d_3 
		trigger = {
			check_variable = { destroy_text = 3 }
		}
	}
	desc = {
		text = TE_treaty_news_event.2.d_2 
		trigger = {
			check_variable = { destroy_text = 2 }
		}
	}
	desc = {
		text = TE_treaty_news_event.2.d_1
		trigger = {
			check_variable = { destroy_text = 1 }
		}
	}
	desc = {
		text = TE_treaty_news_event.2.d
		trigger = {
			check_variable = { destroy_text = 0 }
		}
	}
	picture = GFX_news_event_generic_sign_treaty2
	is_triggered_only = yes
	hidden = no 
	immediate = { 
		randomize_temp_variable = {
			var = destroy_text
			distribution = uniform
			min = 0
			max = 4
		}
		round_temp_variable = destroy_text
		set_variable = { SWE.debug_peace = SWE.destroy_text }
	}
	option = { 
		name = TE_treaty_news_event.2.a
		ai_chance = { 
			factor = 30
		}
		
	}
}

### Independence
news_event = {
	id = TE_treaty_news_event.3  
	title = TE_treaty_news_event.3.t
	desc = TE_treaty_news_event.3.d 
	picture = GFX_news_event_generic_sign_treaty2
	is_triggered_only = yes
	hidden = no 
	
	option = { 
		name = TE_treaty_news_event.3.a
		ai_chance = { 
			factor = 30
		}
		
	}
}

### Independence Bounce
news_event = {
	id = TE_treaty_news_event.4   
	title = TE_treaty_news_event.4.t
	desc = TE_treaty_news_event.4.d 
	picture = GFX_news_event_generic_rally2
	is_triggered_only = yes
	hidden = yes 
	
	option = { 
		name = TE_treaty_news_event.4.a
		ai_chance = { 
			factor = 30
		}
		every_other_country = {
			limit = { is_ai = no }
			news_event = {
				id = TE_treaty_news_event.3
				days = 0
			}	
		}
		
	}
}

### Country is rearming
news_event = {
	id = TE_treaty_news_event.5  
	title = TE_treaty_news_event.5.t
	desc = TE_treaty_news_event.5.d 
	picture = GFX_news_event_003
	is_triggered_only = yes
	hidden = no 
	immediate = {
		
	}
	option = { 
		name = TE_treaty_news_event.5.a
		ai_chance = { 
			factor = 30
		}
		
	}
}