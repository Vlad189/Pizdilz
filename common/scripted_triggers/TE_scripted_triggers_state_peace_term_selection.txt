##### Triggers for state selections during peace deals
##### Uses var:ROOT.var_TE_target_country for War Target Country
##### Use on State scope


##### Is occupied Core? 
TE_is_selectable_core_state = {
	custom_trigger_tooltip = {
		tooltip = TE_is_selectable_core_state_tt 
		THIS = { 
			is_core_of = ROOT 
			OR = { 
				is_owned_by = var:ROOT.var_TE_target_country
				any_country = {
					OR = {
						is_puppet_of = var:ROOT.var_TE_target_country
						is_subject_of = var:ROOT.var_TE_target_country
					}
					PREV = { is_owned_by = PREV }
					
					has_war_with = ROOT 
				}
			}
			is_controlled_by = ROOT
		}
	}
}

##### Is occupied Claimed State? 
TE_is_selectable_claimed_state = {
	custom_trigger_tooltip = {
		tooltip = TE_is_selectable_claimed_state_tt 
		THIS = { 
			NOT = { is_core_of = ROOT }
			is_claimed_by = ROOT
			any_neighbor_state = { 
				OR = {
					is_owned_by = ROOT
					check_variable = { THIS.var_HE_peace_term_transfer@ROOT = 1 }
					naval_base > 0
					is_island_state = yes
				}
			}
			OR = { 
				is_owned_by = var:ROOT.var_TE_target_country
				any_country = {
					PREV = { is_owned_by = PREV }
					OR = {
						is_puppet_of = var:ROOT.var_TE_target_country
						is_subject_of = var:ROOT.var_TE_target_country
					}
					has_war_with = ROOT 
				}
			}
			OR = {
				is_core_of = var:ROOT.var_TE_target_country
				any_country = {
					PREV = { is_core_of = PREV }
					OR = {
						is_puppet_of = var:ROOT.var_TE_target_country
						is_subject_of = var:ROOT.var_TE_target_country
					}
					has_war_with = ROOT 
				}
			}
			is_controlled_by = ROOT
		}
	}
}


##### Is occupied Border State? 
TE_is_selectable_border_state = {
	custom_trigger_tooltip = {
		tooltip = TE_is_selectable_border_state_tt 
		THIS = { 
			NOT = { is_core_of = ROOT }
			NOT = { is_claimed_by = ROOT }
			any_neighbor_state = { 
				OR = {
					is_owned_by = ROOT 
					#check_variable = { THIS.var_HE_peace_term_transfer@ROOT = 1 }
				}
			}
			OR = { 
				is_owned_by = var:ROOT.var_TE_target_country
				any_country = {
					PREV = { is_owned_by = PREV }
					OR = {
						is_puppet_of = var:ROOT.var_TE_target_country
						is_subject_of = var:ROOT.var_TE_target_country
					}
					has_war_with = ROOT 
				}
			}
			OR = {
				is_core_of = var:ROOT.var_TE_target_country
				any_country = {
					PREV = { is_core_of = PREV }
					OR = {
						is_puppet_of = var:ROOT.var_TE_target_country
						is_subject_of = var:ROOT.var_TE_target_country
					}
					has_war_with = ROOT  
				}
			}
			is_controlled_by = ROOT
		}
	}
}

##### Is occupied Port State? 
TE_is_selectable_port_state = {
	custom_trigger_tooltip = {
		tooltip = TE_is_selectable_port_state_tt 
		THIS = { 
			NOT = { is_core_of = ROOT }
			NOT = { is_claimed_by = ROOT }
			NOT = { is_island_state = yes}
			NOT = { any_neighbor_state = { is_owned_by = ROOT } }
			OR = { 
				is_owned_by = var:ROOT.var_TE_target_country
				any_country = {
					PREV = { is_owned_by = PREV }
					OR = {
						is_puppet_of = var:ROOT.var_TE_target_country
						is_subject_of = var:ROOT.var_TE_target_country
					}
					has_war_with = ROOT 
				}
			}
			OR = {
				is_core_of = var:ROOT.var_TE_target_country
				any_country = {
					PREV = { is_core_of = PREV }
					OR = {
						is_puppet_of = var:ROOT.var_TE_target_country
						is_subject_of = var:ROOT.var_TE_target_country
					}
					has_war_with = ROOT 
				}
			}
			naval_base > 0
			is_controlled_by = ROOT					
			# is_coastal = yes
		}
	}
}

##### Is occupied Island State? 
TE_is_selectable_island_state = {
	custom_trigger_tooltip = {
		tooltip = TE_is_selectable_island_state_tt 
		THIS = { 
			NOT = { is_core_of = ROOT }
			NOT = { is_claimed_by = ROOT }
			is_island_state = yes
			OR = {
				is_core_of = var:ROOT.var_TE_target_country
				any_country = {
					PREV = { is_core_of = PREV }
					OR = {
						is_puppet_of = var:ROOT.var_TE_target_country
						is_subject_of = var:ROOT.var_TE_target_country
					}
					has_war_with = ROOT 
				}
			}
			OR = { 
				is_owned_by = var:ROOT.var_TE_target_country
				any_country = {
					PREV = { is_owned_by = PREV }
					OR = {
						is_puppet_of = var:ROOT.var_TE_target_country
						is_subject_of = var:ROOT.var_TE_target_country
					}
					has_war_with = ROOT 
				}
			}
			is_controlled_by = ROOT
		}
	}
}

##### Is occupied Colony State? 
TE_is_selectable_colony_state = {
	custom_trigger_tooltip = {
		tooltip = TE_is_selectable_colony_state_tt 
		THIS = { 
			NOT = { is_core_of = ROOT }
			NOT = { is_core_of = var:ROOT.var_TE_target_country }
			OR = { 
				is_island_state = yes 
				any_neighbor_state = { 
					OR = {
						is_owned_by = ROOT 
						check_variable = { THIS.var_HE_peace_term_transfer@ROOT = 1 }
					}
				}
				naval_base > 0 
			} 
			OR = { 
				is_owned_by = var:ROOT.var_TE_target_country
				any_country = {
					PREV = { is_owned_by = PREV }
					NOT = { PREV = { is_core_of = PREV } }
					OR = {
						is_puppet_of = var:ROOT.var_TE_target_country
						is_subject_of = var:ROOT.var_TE_target_country
					}
					has_war_with = ROOT 
				}
			}
			# naval_base > 0 
			# is_coastal = yes
			is_controlled_by = ROOT
		}
	}
}

##### Is occupied "Other" State? 
TE_is_selectable_other_state = {
	custom_trigger_tooltip = {
		tooltip = TE_is_selectable_other_state_tt 
		THIS = { 
			NOT = { is_core_of = ROOT }
			NOT = { is_claimed_by = ROOT }
			is_core_of = var:ROOT.var_TE_target_country
			any_neighbor_state = { 
				check_variable = { THIS.var_HE_peace_term_transfer@ROOT = 1 }
			}
			NOT = {
				any_neighbor_state = { 
					is_owned_by = ROOT 
				}
			}
			
			OR = { 
				is_owned_by = var:ROOT.var_TE_target_country
				any_country = {
					PREV = { is_owned_by = PREV }
					NOT = { PREV = { is_core_of = PREV } }
					OR = {
						is_puppet_of = var:ROOT.var_TE_target_country
						is_subject_of = var:ROOT.var_TE_target_country
					}
					has_war_with = ROOT 
				}
			}
			# naval_base > 0 
			# is_coastal = yes
			is_controlled_by = ROOT
		}
	}
}

##### Can give state to ally? 

